<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Cabinet RP ‚Äì Gestion Avocats</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#0f1115;--card:#171a21;--accent:#c9a458;--text:#eaeaea;--muted:#9aa0a6;--radius:14px}
*{box-sizing:border-box;font-family:'Inter',sans-serif}
body{margin:0;background:var(--bg);color:var(--text)}
header{padding:20px;text-align:center;font-size:26px;font-weight:700;color:var(--accent)}
nav{display:flex;justify-content:center;gap:15px;background:#12141a;padding:15px;position:sticky;top:0}
nav button{background:none;border:1px solid #2a2e3a;color:var(--text);padding:10px 18px;border-radius:var(--radius);cursor:pointer;font-weight:600}
nav button.active,nav button:hover{background:var(--accent);color:#000}
.container{max-width:1100px;margin:auto;padding:25px}
.card{background:var(--card);border-radius:var(--radius);padding:25px;margin-bottom:25px;box-shadow:0 0 0 1px #20232d}
.hidden{display:none}
input,select{width:100%;padding:14px;margin-bottom:12px;border-radius:10px;border:none;background:#0f1115;color:var(--text)}
button.main{width:100%;background:var(--accent);color:#000;border:none;padding:14px;border-radius:12px;font-weight:700;cursor:pointer}
table{width:100%;border-collapse:collapse;margin-top:15px}
th,td{padding:12px;border-bottom:1px solid #252a36;text-align:center}
th{color:var(--accent)}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}
.stat{background:#12141a;padding:20px;border-radius:var(--radius);text-align:center}
.stat span{font-size:22px;font-weight:700;display:block;margin-top:8px}
.green{color:#4caf50}
</style>
</head>
<body>
<header>‚öñÔ∏è Cabinet d'Avocats RP</header>

<div class="container" id="login">
<div class="card">
<h2>Connexion</h2>
<input id="name" placeholder="Nom RP">
<select id="grade"></select>
<button class="main" onclick="login()">Entrer</button>
</div>
</div>

<nav id="menu" class="hidden">
<button id="btn-effectif" onclick="showPage('effectif')">Effectif</button>
<button id="btn-commis" onclick="showPage('commis')">Commis</button>
<button id="btn-factures" onclick="showPage('factures')">Factures</button>
<button id="btn-recap" onclick="showPage('recap')">R√©cap</button>
</nav>

<div class="container hidden" id="app">

<div class="card hidden" id="effectif">
<h2>üë• Effectif</h2>
<table><thead><tr><th>Nom</th><th>Grade</th><th>Part</th><th>Prime</th></tr></thead><tbody id="staff"></tbody></table>
</div>

<div class="card hidden" id="commis">
<h2>üìÇ Commis d'office</h2>
<input id="c_client" placeholder="Client">
<input id="c_charges" placeholder="Charges">
<input id="c_amende" type="number" placeholder="Amende">
<button class="main" onclick="addCommis()">Ajouter dossier</button>
<table><thead><tr><th>Client</th><th>Charges</th><th>Amende</th><th>Votre part</th></tr></thead><tbody id="commisTable"></tbody></table>
</div>

<div class="card hidden" id="factures">
<h2>üßæ Factures</h2>
<input id="f_montant" type="number" placeholder="Montant">
<button class="main" onclick="addFacture()">Ajouter facture</button>
<table><thead><tr><th>Montant</th></tr></thead><tbody id="factTable"></tbody></table>
</div>

<div class="card hidden" id="recap">
<h2>üìä R√©capitulatif</h2>
<div class="stats">
<div class="stat">Revenus commis<span id="r_commis">0 $</span></div>
<div class="stat">Revenus factures<span id="r_fact">0 $</span></div>
<div class="stat">Salaire total<span id="r_sal">0 $</span></div>
<div class="stat">B√©n√©fice<span class="green" id="r_benef">0 $</span></div>
</div>
</div>
</div>

<script>
const grades={"Pr√©sident":{pct:.75,prime:1000000},"Partenaire":{pct:.55,prime:450000},"Avocat":{pct:.35,prime:300000},"Commis":{pct:.25,prime:200000}};
Object.keys(grades).forEach(g=>grade.innerHTML+=`<option>${g}</option>`);
let user=null,commis=[],factures=[];
function login(){user={name:name.value,grade:grade.value};login.classList.add('hidden');menu.classList.remove('hidden');app.classList.remove('hidden');showPage('effectif');render();}
function showPage(p){['effectif','commis','factures','recap'].forEach(id=>document.getElementById(id).classList.add('hidden'));document.getElementById(p).classList.remove('hidden');document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));document.getElementById('btn-'+p).classList.add('active');}
function render(){staff.innerHTML=`<tr><td>${user.name}</td><td>${user.grade}</td><td>${grades[user.grade].pct*100}%</td><td>${grades[user.grade].prime.toLocaleString()} $</td></tr>`;}
function addCommis(){commis.push(+c_amende.value);renderCommis();}
function renderCommis(){commisTable.innerHTML='';commis.forEach(a=>{const part=a*grades[user.grade].pct;commisTable.innerHTML+=`<tr><td>-</td><td>-</td><td>${a}$</td><td>${part.toFixed(0)}$</td></tr>`});renderRecap();}
function addFacture(){factures.push(+f_montant.value);renderFact();}
function renderFact(){factTable.innerHTML='';factures.forEach(f=>factTable.innerHTML+=`<tr><td>${f}$</td></tr>`);renderRecap();}
function renderRecap(){const rc=commis.reduce((s,a)=>s+a*grades[user.grade].pct,0);const rf=factures.reduce((a,b)=>a+b,0);r_commis.textContent=rc+' $';r_fact.textContent=rf+' $';r_sal.textContent=(rc+rf)+' $';r_benef.textContent=(rc+rf)+' $';}
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Cabinet d'Avocats RP ‚Äì Gestion</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#121212;--card:#1e1e1e;--accent:#d4af6a;--text:#f1f1f1;--muted:#9a9a9a;--radius:14px}
*{box-sizing:border-box;font-family:'Inter',sans-serif}
body{margin:0;background:linear-gradient(#1a1a1a,#0f0f0f);color:var(--text)}
header{text-align:center;padding:30px 10px;font-size:28px;font-weight:700;color:var(--accent)}
nav{display:flex;justify-content:center;gap:12px;margin-bottom:25px}
nav button{background:var(--accent);border:none;padding:10px 18px;border-radius:10px;font-weight:700;cursor:pointer}
nav button.active{outline:2px solid #fff}
.container{max-width:1200px;margin:auto;padding:0 20px 40px}
.card{background:var(--card);border-radius:var(--radius);padding:25px;margin-bottom:30px}
.hidden{display:none}
input,select{background:#2a2a2a;border:none;color:white;padding:12px;border-radius:10px}
input{width:100%}
.form-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin-bottom:15px}
button.main{background:var(--accent);border:none;padding:12px 20px;border-radius:10px;font-weight:700;cursor:pointer}
table{width:100%;border-collapse:collapse;margin-top:15px}
th,td{text-align:center;padding:10px;border-bottom:1px solid #333}
th{color:var(--accent)}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}
.stat{background:#262626;padding:20px;border-radius:14px;text-align:center}
.stat span{display:block;font-size:22px;font-weight:700;margin-top:8px}
.green{color:#4caf50}.red{color:#f44336}
</style>
</head>
<body>
<header>‚öñÔ∏è Cabinet d'Avocats RP</header>

<nav id="menu">
<button onclick="show('effectif')" class="active">Effectif</button>
<button onclick="show('commis')">Commis d'office</button>
<button onclick="show('factures')">Factures clients</button>
<button onclick="show('recap')">R√©capitulatif</button>
</nav>

<div class="container">

<div class="card" id="effectif">
<h2>üë• Effectif</h2>
<table>
<thead><tr><th>Nom</th><th>Grade</th><th>%</th><th>Prime fixe</th></tr></thead>
<tbody id="staff"></tbody>
</table>
</div>

<div class="card hidden" id="commis">
<h2>üìÇ Commis d'office</h2>
<div class="form-row">
<input id="c_client" placeholder="Client">
<input id="c_charges" placeholder="Charges">
<input id="c_amende" type="number" placeholder="Amende ($)">
<button class="main" onclick="addCommis()">Ajouter</button>
</div>
<table>
<thead><tr><th>Client</th><th>Charges</th><th>Amende</th><th>Votre part</th></tr></thead>
<tbody id="commisTable"></tbody>
</table>
</div>

<div class="card hidden" id="factures">
<h2>üßæ Factures clients</h2>
<div class="form-row">
<input id="f_client" placeholder="Client">
<input id="f_montant" type="number" placeholder="Montant ($)">
<button class="main" onclick="addFacture()">Ajouter facture</button>
</div>
<table>
<thead><tr><th>Client</th><th>Montant</th></tr></thead>
<tbody id="factTable"></tbody>
</table>
</div>

<div class="card hidden" id="recap">
<h2>üìä R√©capitulatif comptable</h2>
<div class="stats">
<div class="stat">Revenus commis<span id="r_commis">0 $</span></div>
<div class="stat">Revenus factures<span id="r_fact">0 $</span></div>
<div class="stat">Salaire total<span id="r_sal">0 $</span></div>
<div class="stat">B√©n√©fice brut<span class="green" id="r_benef">0 $</span></div>
</div>
</div>

</div>

<script>
const user={name:'Sabri',grade:'Partenaire Directeur'};
const grades={
'Partenaire Directeur':{pct:0.65,prime:750000},
'Avocat':{pct:0.35,prime:300000},
'Commis':{pct:0.25,prime:200000}
};
let commis=[],factures=[];

function show(id){document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));document.getElementById(id).classList.remove('hidden');document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));event.target.classList.add('active');}

function renderStaff(){staff.innerHTML=`<tr><td>${user.name}</td><td>${user.grade}</td><td>${grades[user.grade].pct*100}%</td><td>${grades[user.grade].prime.toLocaleString()} $</td></tr>`;}

function addCommis(){const client=c_client.value;const charges=c_charges.value;const amende=Number(c_amende.value);if(!client||!amende)return;commis.push({client,charges,amende});c_client.value=c_charges.value=c_amende.value='';renderCommis();}
function renderCommis(){commisTable.innerHTML='';commis.forEach(c=>{const part=c.amende*grades[user.grade].pct;commisTable.innerHTML+=`<tr><td>${c.client}</td><td>${c.charges}</td><td>${c.amende}$</td><td>${part.toFixed(0)}$</td></tr>`});renderRecap();}

function addFacture(){const client=f_client.value;const montant=Number(f_montant.value);if(!client||!montant)return;factures.push({client,montant});f_client.value=f_montant.value='';renderFactures();}
function renderFactures(){factTable.innerHTML='';factures.forEach(f=>factTable.innerHTML+=`<tr><td>${f.client}</td><td>${f.montant}$</td></tr>`);renderRecap();}

function renderRecap(){const rc=commis.reduce((s,c)=>s+c.amende*grades[user.grade].pct,0);const rf=factures.reduce((s,f)=>s+f.montant,0);r_commis.textContent=rc+' $';r_fact.textContent=rf+' $';r_sal.textContent=(rc+rf)+' $';r_benef.textContent=(rc+rf)+' $';}

renderStaff();
</script>
</body>
</html>
